# Tutorial Step Template

This document defines the standard structure, styling, and organization for all tutorial steps in the BlazorMock application.

## Folder Structure

Each tutorial step should be organized in its own folder:

```
Components/Pages/Examples/{Domain}/{StepN}/
‚îú‚îÄ‚îÄ Example.razor              # Main tutorial page (markup only)
‚îú‚îÄ‚îÄ Example.razor.cs           # Code-behind with logic for tutorial page
‚îú‚îÄ‚îÄ {DemoComponent}.razor      # Actual demo component students create (markup only)
‚îú‚îÄ‚îÄ {DemoComponent}.razor.cs   # Code-behind with logic for demo component
‚îî‚îÄ‚îÄ README.md                  # Documentation explaining the step folder
```

### Examples:

- `Components/Pages/Examples/Pokemon/Step2/`

  - `Example.razor` (tutorial page)
  - `Example.razor.cs` (code-behind for tutorial page)
  - `PokemonListExample.razor` (demo component)
  - `PokemonListExample.razor.cs` (code-behind for demo component)
  - `README.md` (documentation)

- `Components/Pages/Examples/Trucking/Step3/`
  - `Example.razor` (tutorial page)
  - `Example.razor.cs` (code-behind for tutorial page)
  - `GreetingCard.razor` (demo component)
  - `GreetingCard.razor.cs` (code-behind for demo component)
  - `README.md` (documentation)

## File Naming Convention

- **Tutorial Page**: Always `Example.razor` + `Example.razor.cs`
- **Demo Component**: Descriptive name like `PokemonListExample.razor` + `PokemonListExample.razor.cs`
- **Tutorial Code-behind class**: `ExampleBase` (not `PokemonStep2ExampleBase` or similar)
- **Demo Code-behind class**: `{ComponentName}Base` (e.g., `PokemonListExampleBase`, `GreetingCardBase`)

## Tutorial Page Structure (Example.razor)

### 1. Page Header

```razor
@page "/{domain}-examples/step{n}"
@rendermode InteractiveServer
@inherits ExampleBase

<PageTitle>{Domain} Step {N}: {Title} - Example</PageTitle>
```

### 2. Page Layout Sections (in order)

#### A. Header Section

```razor
<div class="min-h-screen py-8 rounded-4xl bg-gray-50">
    <div class="w-full mx-auto px-4 max-w-5xl">
        <!-- Back link -->
        <a href="/{domain}-guide" class="inline-flex items-center gap-2 text-sm sm:text-base text-blue-600 hover:text-blue-700 mb-4">
            <span>‚Üê</span> Back to {Domain} Guide
        </a>

        <!-- Title -->
        <h1 class="text-4xl font-bold text-gray-900 mb-4">
            üéØ Step {N}: {Title}
        </h1>

        <!-- Description -->
        <p class="text-xl text-gray-600 mb-8">
            {Brief description of what this step teaches}
        </p>
```

**IMPORTANT**:

- Use `mb-8` after description paragraph to provide spacing before first section
- Title is `text-4xl` (not `text-3xl sm:text-4xl`)
- Description is `text-xl` (not `text-base sm:text-lg md:text-xl`)
- Avoid `break-words` classes - not needed with proper layout

#### B. What You'll Learn Section (Gradient Banner)

```razor
<div class="bg-gradient-to-r from-gray-100 to-blue-100 rounded-2xl p-5 sm:p-6 mb-6">
    <h2 class="text-xl sm:text-2xl font-semibold text-gray-800 mb-4">What You'll Learn</h2>

    <!-- Description paragraph -->
    <p class="text-gray-700 mb-4 text-sm sm:text-base">
        {Detailed explanation of what students will learn}
    </p>

    <!-- Bullet points -->
    <ul class="list-disc ml-6 text-sm sm:text-base text-gray-700 space-y-2 mb-4">
        <li>{Learning point 1}</li>
        <li>{Learning point 2}</li>
        <li>{Learning point 3}</li>
        <li>{Learning point 4}</li>
    </ul>

    <!-- Key Concepts Footer -->
    <div class="mt-2 pt-3 border-t border-blue-200">
        <p class="text-xs sm:text-sm text-gray-700 mb-2">
            <strong>üí° Key Concepts:</strong> {concept1}, {concept2}, {concept3}
        </p>
        <div class="flex flex-wrap items-center gap-2">
            <span class="text-xs sm:text-sm text-gray-600">‚Üí Related tips:</span>
            <a href="/tips#{anchor1}" class="px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-[11px] sm:text-xs font-medium hover:bg-blue-200 transition-colors">{Topic 1}</a>
            <a href="/tips#{anchor2}" class="px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-[11px] sm:text-xs font-medium hover:bg-blue-200 transition-colors">{Topic 2}</a>
            <a href="/tips#{anchor3}" class="px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-[11px] sm:text-xs font-medium hover:bg-blue-200 transition-colors">{Topic 3}</a>
        </div>
    </div>
</div>
```

**CRITICAL - Related Tips Links**:

- Each Key Concept mentioned should have a corresponding tip link
- Link anchors MUST match the exact slug generated by the tip's title in TipsService
- Slug generation: lowercase, remove special chars (@, <, >, [, ], parentheses), replace spaces with hyphens
- **Check TipsService.cs** to find the exact tip title and calculate its slug before linking
- Examples of slug generation:
  - "IHttpClientFactory" ‚Üí `#ihttpclientfactory`
  - "Dependency Injection (DI)" ‚Üí `#dependency-injection-di`
  - "GetFromJsonAsync<T>" ‚Üí `#getfromjsonasynct`
  - "@foreach in Razor" ‚Üí `#foreach-in-razor`
  - "dotnet CLI" ‚Üí `#dotnet-cli`
  - "Tailwind CSS" ‚Üí `#tailwind-css`
  - ".NET Asset Pipeline" ‚Üí `#net-asset-pipeline`

**Creating New Tips**:

> **üö® CRITICAL REQUIREMENT**: Create ALL tips in TipsService.cs BEFORE linking to them from tutorial steps. Broken tip links severely degrade the learning experience and are considered blocking issues.

When a tutorial step introduces new concepts that don't have tips yet:

1. **Add the tip to TipsService.cs** in the appropriate contributor class:

   - Tooling concepts ‚Üí Create or use `ToolingTipsContributor`
   - Blazor concepts ‚Üí Add to existing contributors (`RoutingTipsContributor`, `ServicesTipsContributor`, etc.)
   - Styling concepts ‚Üí Create or use `StylingTipsContributor`
   - C# concepts ‚Üí Add to `HttpAndDataTipsContributor` or create `CSharpLanguageTipsContributor`

2. **Tip structure template**:

```csharp
yield return new TipTopic(
    Title: "Concept Name",  // This generates the slug
    Category: "Category ‚Äî Subcategory",  // e.g., "Tooling ‚Äî .NET", "Blazor ‚Äî HTTP & Data"
    Type: "Type",  // e.g., "Tool", "Service", "Method", "Pattern"
    ELI5: "One-sentence simple explanation.",
    Example: "Code example showing basic usage",
    Tips: new[] {
        "Practical tip 1",
        "Practical tip 2",
        "Practical tip 3"
    }
)
{
    LongELI5 = "\n\nDetailed explanation using analogies and real-world examples. Break down complex concepts into simple terms.",
    ELI5Example = "More detailed code example with comments showing advanced usage patterns"
};
```

3. **Tip categories used**:

   - `"Tooling ‚Äî .NET"` - dotnet CLI, MSBuild, etc.
   - `"Tooling ‚Äî Frontend"` - npm, webpack, etc.
   - `"Tooling ‚Äî Development"` - Watch mode, hot reload, etc.
   - `"Styling ‚Äî CSS"` - Tailwind, CSS frameworks
   - `"Blazor ‚Äî HTTP & Data"` - HttpClient, APIs, JSON
   - `"Blazor ‚Äî Services"` - DI, service lifetimes
   - `"Blazor ‚Äî Assets"` - Static files, asset pipeline
   - `"Blazor ‚Äî Routing"` - Navigation, routes
   - `"Blazor ‚Äî Forms"` - Input validation, binding
   - `"Blazor ‚Äî HTML Attributes"` - disabled, checked, selected, etc.
   - `"C# ‚Äî LINQ"` - Skip, Take, Where, Select, etc.
   - `"C# ‚Äî Math"` - Math.Ceiling, Math.Floor, etc.

4. **Example: Adding a new tip**:

```csharp
// In TipsService.cs, find or create appropriate contributor class
public class ToolingTipsContributor : ITipsContributor
{
    public IEnumerable<TipTopic> GetTopics()
    {
        yield return new TipTopic(
            Title: "dotnet CLI",
            Category: "Tooling ‚Äî .NET",
            Type: "Tool",
            ELI5: "The command-line interface for creating, building, and running .NET projects.",
            Example: "dotnet new blazor -n MyApp\ndotnet build\ndotnet run",
            Tips: new[] {
                "Use 'dotnet new list' to see all templates.",
                "Add --help to any command for details.",
                "Combine flags to customize your project."
            }
        )
        {
            LongELI5 = "\n\nDetailed explanation...",
            ELI5Example = "More examples..."
        };
    }
}

// Register the contributor in TipsService constructor if it's new
public TipsService()
{
    AddContributor(new ToolingTipsContributor());
}
```

5. **MANDATORY verification after adding tips**:
   - ‚úÖ Build the project: `dotnet build -c Release` (must succeed with no errors)
   - ‚úÖ Navigate to `/tips` page and verify the new tip appears in the correct category
   - ‚úÖ Verify the slug matches your link anchor (title "dotnet CLI" ‚Üí slug `dotnet-cli`)
   - ‚úÖ Click each tip link from the tutorial step and verify it scrolls to the correct section
   - ‚úÖ NO placeholder text - all links must work before considering the step complete

**Workflow**:

- **ALWAYS create the tip in TipsService.cs first** (preferred), then link to it
- **NEVER** show placeholder text like `<span class="text-xs text-gray-500 italic">Tips coming soon: {concepts}</span>`
- **NO EXCEPTIONS**: Every Key Concept mentioned must have a working tip link
- Link text should be readable/friendly (match the tip title exactly)
- Test links by clicking them to ensure they scroll to the correct tip section

#### C. Sample Component Section (White Card)

**NOTE**: For setup/configuration steps without demo components, rename this section to describe what's being configured (e.g., "üß© Project Setup Commands" for CLI-based steps).

```razor
<div class="bg-white rounded-xl p-6 border border-gray-200 mb-6">
    <h2 class="text-xl font-bold text-gray-900 mb-4">üß© Sample Component: {Component Name}</h2>

    <!-- Brief explanation -->
    <p class="text-sm text-gray-600 mb-4">
        {What this component demonstrates}
    </p>

    <!-- Full code example -->
    <div class="bg-gray-100 border border-gray-200 rounded-lg p-4 overflow-x-auto mb-4">
        <div class="text-xs text-gray-500 mb-1">{ComponentName}.razor</div>
        <p class="text-xs text-gray-600 mb-2">{What the component does}</p>
        <ul class="list-disc ml-4 mb-3 text-[11px] text-gray-600 space-y-1">
            <li>{Key point 1}</li>
            <li>{Key point 2}</li>
            <li>{Key point 3}</li>
        </ul>
        <pre data-code-title="Razor + C# ({ComponentName}.razor)"
            class="code-block text-xs sm:text-sm font-mono text-gray-800 w-full max-w-full overflow-x-auto">{Full component code}</pre>
    </div>

    <!-- Step-by-step breakdown -->
    <h3 class="text-sm font-semibold text-gray-800 mb-2">Step-by-step breakdown</h3>
    <div class="grid gap-4">
        <div class="bg-gray-100 border border-gray-200 rounded-lg p-4">
            <div class="text-xs text-gray-500 mb-1">1. {Breakdown title}</div>
            <p class="text-xs text-gray-600 mb-2">{Explanation}</p>
            <ul class="list-disc ml-4 mb-2 text-[11px] text-gray-600 space-y-1">
                <li>{Detail 1}</li>
                <li>{Detail 2}</li>
            </ul>
            <pre class="code-block text-xs sm:text-sm font-mono text-gray-800 w-full max-w-full overflow-x-auto">{Code snippet}</pre>
        </div>
        <!-- Repeat for each breakdown section -->
    </div>
</div>
```

**CRITICAL**:

- Each code example MUST have a description paragraph (`text-xs text-gray-600 mb-2`)
- Each code example MUST have bullet points (`list-disc ml-4 mb-3 text-[11px]`) explaining what it does
- Use `class="code-block"` on all `<pre>` tags for JS enhancement
- Always include `data-code-title` attribute with file path or command type
- Text sizing: labels are `text-xs text-gray-500`, descriptions are `text-xs text-gray-600`, bullets are `text-[11px] text-gray-600`
  <li>{Key point 1}</li>
  <li>{Key point 2}</li>
  <li>{Key point 3}</li>
  </ul>
  <pre data-code-title="Razor + C# ({ComponentName}.razor)"
              class="code-block text-xs sm:text-sm font-mono text-gray-800 w-full max-w-full overflow-x-auto">{Full component code}</pre>
  </div>

      <!-- Step-by-step breakdown -->
      <h3 class="text-sm font-semibold text-gray-800 mb-2">Step-by-step breakdown</h3>
      <div class="grid gap-4">
          <div class="bg-gray-100 border border-gray-200 rounded-lg p-4">
              <div class="text-xs text-gray-500 mb-1">1. {Breakdown title}</div>
              <p class="text-xs text-gray-600 mb-2">{Explanation}</p>
              <ul class="list-disc ml-4 mb-2 text-[11px] text-gray-600 space-y-1">
                  <li>{Detail 1}</li>
                  <li>{Detail 2}</li>
              </ul>
              <pre class="code-block text-xs sm:text-sm font-mono text-gray-800 w-full max-w-full overflow-x-auto">{Code snippet}</pre>
          </div>
          <!-- Repeat for each breakdown section -->
      </div>

  </div>

````

#### D. Important Notes & Tips Section (White Card)

```razor
<div class="bg-white rounded-xl p-6 border border-gray-200 mb-6">
    <h2 class="text-xl sm:text-2xl font-semibold text-gray-800 mb-4">üìù Important Notes & Tips</h2>

    <div class="space-y-3">
        <!-- Pro Tips (Blue) -->
        <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
            <h3 class="text-sm font-bold text-blue-900 mb-3">üí° Pro Tips</h3>
            <div class="space-y-4">
                <div>
                    <p class="text-sm font-semibold text-blue-900 mb-2">{Tip title}</p>
                    <p class="text-xs text-blue-800">{Detailed explanation with context and benefits}</p>
                </div>
                <!-- Repeat for each tip -->
            </div>
        </div>

        <!-- Troubleshooting (Yellow) -->
        <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
            <h3 class="text-sm font-bold text-yellow-900 mb-2">‚ö†Ô∏è Troubleshooting</h3>
            <ul class="list-disc ml-6 text-sm text-yellow-900 space-y-1">
                <li>{Common issue 1 with solution}</li>
                <li>{Common issue 2 with solution}</li>
                <li>{Common issue 3 with solution}</li>
            </ul>
        </div>
    </div>
</div>
````

#### E. How to do it Section (Gradient Banner)

```razor
<div class="bg-gradient-to-r from-gray-100 to-blue-100 rounded-2xl p-5 sm:p-6 mb-6">
    <h2 class="text-xl sm:text-2xl font-semibold text-gray-800 mb-4">üõ†Ô∏è How to do it</h2>
    <ol class="list-decimal ml-5 space-y-2 text-gray-700 text-sm sm:text-base">
        <li>
            <strong>{Step title}:</strong>
            {Detailed instruction with file path}
            <code>Components/Pages/Examples/{Domain}/Step{N}</code>
        </li>
        <li>
            <strong>{Step title}:</strong>
            {Detailed instruction}
        </li>
        <li>
            <strong>{Step title}:</strong>
            {Detailed instruction with route like} <code>/{domain}-examples/demo-{feature}</code>
        </li>
    </ol>
</div>
```

#### F. Live Demo Section (Optional)

```razor
<div class="bg-black/3 rounded-2xl p-6 mb-6">
    <h2 class="text-2xl font-semibold text-gray-800 mb-4">üé¨ Live Demo</h2>
    <p class="text-sm text-gray-600 mb-4">{What the demo shows}</p>

    <div class="bg-white rounded-2xl border border-gray-200 p-6">
        @if ({data} is null)
        {
            <p class="text-sm text-gray-500">Loading...</p>
        }
        else
        {
            {Actual working demo markup}
        }
    </div>

    <p class="text-xs text-gray-600 mt-4 text-center">üí° {Helpful note about the demo pattern}</p>
</div>
```

#### G. Mark Complete Section (Green Card)

```razor
<div class="bg-white rounded-xl p-6 border-2 border-green-200 mb-6">
    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
        <div>
            <h3 class="text-lg font-semibold text-gray-900 mb-1">Finished Step {N}?</h3>
            <p class="text-sm text-gray-600">{Completion message}</p>
        </div>
        @if (isComplete)
        {
            <div class="flex items-center gap-3">
                <span class="px-4 py-2 rounded-full bg-green-100 text-green-700 font-medium">‚úì Completed</span>
                <button @onclick="ResetStep"
                    class="px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-sm">Reset</button>
            </div>
        }
        else
        {
            <button @onclick="MarkComplete"
                class="px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors">Mark as Complete</button>
        }
    </div>
</div>
```

#### H. Navigation Section

```razor
<div class="flex items-center justify-between">
    <a href="/{domain}-examples/step{n-1}"
        class="inline-flex items-center gap-2 px-4 py-2 border-2 border-gray-200 rounded-lg hover:bg-gray-50 transition-colors">
        <span>‚Üê</span>
        Previous: Step {N-1}
    </a>
    <a href="/{domain}-examples/step{n+1}"
        class="inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors">
        Next: Step {N+1}
        <span>‚Üí</span>
    </a>
</div>
```

## Code-Behind Structure (Example.razor.cs)

```csharp
using Microsoft.AspNetCore.Components;
using Microsoft.JSInterop;
using BlazorMock.Services;

namespace BlazorMock.Components.Pages.Examples.{Domain}.Step{N};

public partial class ExampleBase : ComponentBase, IDisposable
{
    // Dependency Injection
    [Inject] protected ILearningProgressService ProgressService { get; set; } = default!;
    [Inject] protected NavigationManager Navigation { get; set; } = default!;
    [Inject] protected IJSRuntime JS { get; set; } = default!;

    // State
    protected bool isComplete;
    protected IJSObjectReference? _copyModule;
    protected List<{YourDataType}>? {yourData};

    // Lifecycle Methods
    protected override async Task OnInitializedAsync()
    {
        var step = await ProgressService.GetStepAsync("{domain}", {N});
        isComplete = step?.IsComplete ?? false;

        // Load demo data if needed
        try
        {
            // Your data loading logic
        }
        catch
        {
            {yourData} = new List<{YourDataType}>();
        }
    }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            try
            {
                _copyModule = await JS.InvokeAsync<IJSObjectReference>("import", "./js/codeblocks.js");
                await _copyModule.InvokeVoidAsync("enhancePreBlocks");
            }
            catch (Exception ex)
            {
                Console.WriteLine($"Failed to load code block enhancer: {ex.Message}");
            }
        }
    }

    // Event Handlers
    protected async Task MarkComplete()
    {
        await ProgressService.MarkStepCompleteAsync("{domain}", {N});
        isComplete = true;
    }

    protected async Task ResetStep()
    {
        await ProgressService.MarkStepIncompleteAsync("{domain}", {N});
        isComplete = false;
    }

    // Helper Methods
    protected static {ReturnType} {HelperMethod}({params})
    {
        // Helper logic
    }

    // Cleanup
    public void Dispose()
    {
        _copyModule?.DisposeAsync();
    }

    // DTOs and Inner Classes (if needed for live demo)
    protected sealed class {DtoName}
    {
        public {Type} {Property} { get; set; } = {default};
    }
}
```

## Demo Component Structure

Demo components should be simple, standalone examples with code-behind separation:

### Demo Component Markup ({DemoComponent}.razor)

```razor
@page "/{domain}-examples/demo-{feature}"
@rendermode InteractiveServer
@inherits {DemoComponent}Base

<h3 class="text-xl font-semibold mb-3">{Component Title}</h3>

@if ({data} is null)
{
    <p class="text-gray-500">Loading...</p>
}
else
{
    {Your component markup}
}
```

### Demo Component Code-Behind ({DemoComponent}.razor.cs)

```csharp
using Microsoft.AspNetCore.Components;

namespace BlazorMock.Components.Pages.Examples.{Domain}.Step{N};

public partial class {DemoComponent}Base : ComponentBase
{
    // Dependency Injection
    [Inject] protected {RequiredService} {ServiceName} { get; set; } = default!;

    // State
    protected {Type}? {data};

    // Lifecycle
    protected override async Task OnInitializedAsync()
    {
        // Component logic
    }

    // Helper methods (if needed)
    protected {ReturnType} {MethodName}({params})
    {
        // Logic
    }

    // Models/DTOs specific to this component
    protected class {ModelName}
    {
        public {Type} {Property} { get; set; } = {default};
    }
}
```

## Styling Guidelines

### Colors & Themes

- **Gradient Banners**: `bg-gradient-to-r from-gray-100 to-blue-100`
- **White Cards**: `bg-white rounded-xl p-6 border border-gray-200`
- **Code Blocks**: `bg-gray-100 border border-gray-200 rounded-lg p-4`
- **Pro Tips**: `bg-blue-50 border border-blue-200` (blue theme)
- **Troubleshooting**: `bg-yellow-50 border border-yellow-200` (yellow theme)
- **Completion**: `bg-white border-2 border-green-200` (green theme)

### Typography

- **Page Title**: `text-4xl font-bold text-gray-900` (consistent sizing, no responsive variants)
- **Page Description**: `text-xl text-gray-600` (consistent sizing, no responsive variants)
- **Section Headings**: `text-xl sm:text-2xl font-semibold text-gray-800`
- **Subsection Headings**: `text-sm font-semibold text-gray-800`
- **Body Text**: `text-sm sm:text-base text-gray-700`
- **Code Labels**: `text-xs text-gray-500`
- **Code Descriptions**: `text-xs text-gray-600`
- **Bullet Points in Code Examples**: `text-[11px] text-gray-600`

**IMPORTANT**:

- Page titles and descriptions use fixed sizes without responsive variants for consistency
- Code example structure is critical: label ‚Üí description ‚Üí bullets ‚Üí code block
- Never skip the description or bullet points when showing code examples

### Spacing

- **Section Margins**: `mb-6` between major sections
- **Inner Spacing**: `space-y-3` or `space-y-4` for stacked items
- **List Spacing**: `space-y-1` or `space-y-2`

### Code Blocks

Always include:

- `data-code-title` attribute with file path or command type (e.g., "dotnet CLI", "npm CLI", "Razor + C#")
- `class="code-block"` for JS enhancement
- Responsive text sizing: `text-xs sm:text-sm`
- Overflow handling: `overflow-x-auto`

**CRITICAL CODE EXAMPLE STRUCTURE**:
Each code example must follow this exact pattern:

```razor
<div class="bg-gray-100 border border-gray-200 rounded-lg p-4 overflow-x-auto mb-4">
    <div class="text-xs text-gray-500 mb-1">{Label or Step Title}</div>
    <p class="text-xs text-gray-600 mb-2">{Description of what the code does}</p>
    <ul class="list-disc ml-4 mb-3 text-[11px] text-gray-600 space-y-1">
        <li>{Explanation point 1}</li>
        <li>{Explanation point 2}</li>
        <li>{Explanation point 3}</li>
    </ul>
    <pre data-code-title="{File path or command type}"
        class="code-block text-xs sm:text-sm font-mono text-gray-800 w-full max-w-full overflow-x-auto">{Code here}</pre>
</div>
```

**Never show code without**:

1. A label explaining what file/command it is
2. A description paragraph explaining what it does
3. Bullet points breaking down key parts or flags

**Razor Escaping**:

- Always escape `@` symbols as `@@` in code examples and text within Razor files
- Examples: `@@import`, `@@tailwindcss/cli`, `@@Assets["file.css"]`
- This prevents Razor from trying to parse them as directives

## Route Patterns

- Tutorial pages: `/{domain}-examples/step{n}`
- Demo components: `/{domain}-examples/demo-{feature}`
- Guides: `/{domain}-guide`

Examples:

- `/pokemon-examples/step2`
- `/pokemon-examples/demo-list`
- `/pokemon-guide`
- `/trucking-examples/step3`
- `/guide` (main trucking guide)

## Key Principles

1. **Consistency**: All steps should follow the same visual and structural pattern
2. **Clarity**: Every code block needs a title, description, and bullet points explaining what it does - NO EXCEPTIONS
3. **Self-Contained**: Each step folder contains everything related to that step
4. **Progressive**: Steps build on each other, with clear navigation between them
5. **Educational**: Focus on teaching concepts with real, working examples - explain WHY, not just WHAT
6. **Accessible**: Use semantic HTML and proper heading hierarchy
7. **Responsive**: All layouts should work on mobile and desktop
8. **Escape Special Characters**: Always escape `@` as `@@` in Razor files to prevent parsing errors

**CODE EXPLANATION RULE**:
Never present a code snippet without:

- A clear label of what file/command it represents
- A description paragraph explaining its purpose
- Bullet points breaking down the key parts, flags, or concepts

This educational pattern helps students understand not just what to type, but why each part matters.

## Checklist for New Tutorial Steps

### File Structure & Naming

- [ ] Folder created: `Components/Pages/Examples/{Domain}/Step{N}/`
- [ ] Files named correctly: `Example.razor`, `Example.razor.cs`, `{Demo}.razor`, `{Demo}.razor.cs`
- [ ] `README.md` created in step folder with documentation
- [ ] Route follows pattern: `/{domain}-examples/step{n}`
- [ ] Demo route follows pattern: `/{domain}-examples/demo-{feature}`
- [ ] Tutorial page uses `@inherits ExampleBase`
- [ ] Demo component uses `@inherits {DemoComponent}Base`
- [ ] Both components have `@rendermode InteractiveServer`

### Content Structure

- [ ] Gradient "What You'll Learn" banner with description, bullets, and Key Concepts
- [ ] Related tips section with links to specific tip page anchors (one link per key concept)
- [ ] Sample component card with full code, description, and breakdown
- [ ] "Important Notes & Tips" section with Pro Tips (blue) and Troubleshooting (yellow)
- [ ] Gradient "How to do it" section with numbered steps
- [ ] Live demo section (if applicable)
- [ ] Completion tracking section (green card)
- [ ] Navigation links to previous/next steps

### Code Quality

- [ ] All code blocks have `data-code-title` attributes
- [ ] All code examples have explanatory text and bullets (label ‚Üí description ‚Üí bullets ‚Üí code - NO EXCEPTIONS)
- [ ] All `@` symbols escaped as `@@` in Razor files (code examples and text)
- [ ] Page title is `text-4xl` and description is `text-xl` (no responsive variants)
- [ ] Code example structure verified: each has label (text-xs text-gray-500), description (text-xs text-gray-600), and bullets (text-[11px] text-gray-600)

### Cleanup & Verification

- [ ] Old files deleted from original location (e.g., `PokemonStep{N}Example.razor` removed from `Components/Pages/Examples/`)
- [ ] Build succeeds without errors

### **üö® CRITICAL: Tip Link Verification (NON-NEGOTIABLE)**

**Complete these steps BEFORE considering the tutorial step finished. Broken tip links severely degrade the learning experience.**

- [ ] **Create ALL tips FIRST**: Every Key Concept mentioned must have a corresponding tip created in `TipsService.cs` BEFORE linking to it
- [ ] **Verify tip titles generate correct slugs**:
  - Example: "LINQ Skip/Take" ‚Üí slug is `linq-skiptake` (lowercase, no special chars, spaces become hyphens)
  - Example: "Math.Ceiling" ‚Üí slug is `mathceiling` (periods removed)
  - Example: "disabled Attribute" ‚Üí slug is `disabled-attribute`
- [ ] **Match link anchors to slugs**: Ensure href values match exactly (e.g., `#linq-skiptake` matches tip with title "LINQ Skip/Take")
- [ ] **Build succeeds**: Run `dotnet build -c Release` with no errors
- [ ] **Tips appear on /tips page**: Navigate to `/tips` and verify all new tips are visible
- [ ] **Click every tip link from tutorial**: Open the tutorial step page, click each Key Concept tip link, verify it scrolls to the correct section on /tips page
- [ ] **No placeholder links**: All tip links must work - NO exceptions for "will add later"

**Why this matters**: Students rely on contextual help. A broken tip link breaks their learning flow and creates frustration. This verification is as critical as ensuring the code compiles.

## Step Folder README Template

Each step folder should include a `README.md` file with:

### Required Sections

1. **Overview** - Brief description of the step
2. **Files in This Folder** - List of all files with their purpose
3. **Routes** - Tutorial page and demo component URLs
4. **What Students Learn** - Numbered list of learning objectives
5. **Key Concepts** - Core concepts covered
6. **Architecture** - Code-behind pattern, DI, inheritance
7. **Prerequisites** - Required prior steps
8. **Next Steps** - What comes after this step
9. **Code Structure** - High-level class structure
10. **Styling Patterns** - CSS classes used
11. **Common Issues & Solutions** - Troubleshooting guide (including orphaned file cleanup)
12. **Related Resources** - External documentation links

## Common Conversion Issues

When converting existing tutorial steps to the new folder structure:

### Orphaned Files After Move

**Issue**: Build error "The type or namespace name 'ExampleBase' could not be found"  
**Root Cause**: After moving a file (e.g., `PokemonStep1Example.razor`) to the new folder structure, the original file may still exist at the old path.  
**Solution**: Delete the orphaned file from the original location:

```powershell
# Example for Step 1
Remove-Item -Path "d:\BlazorMock\Components\Pages\Examples\PokemonStep1Example.razor" -Force

# General pattern
Remove-Item -Path "d:\BlazorMock\Components\Pages\Examples\{Domain}Step{N}Example.razor" -Force
```

**Prevention**: Always verify file moves completed successfully and check for duplicates before building.

### Razor Parsing Errors with @ Symbol

**Issue**: Build errors like "The name 'import' does not exist in the current context" or "The name 'tailwindcss' does not exist in the current context"  
**Root Cause**: In Razor files, the `@` symbol triggers C# code parsing. When showing code examples that contain `@` (like `@import`, `@tailwindcss/cli`, `@Assets`), Razor tries to interpret them as C# expressions.  
**Solution**: Escape all `@` symbols as `@@` in both code examples and explanatory text:

```razor
<!-- WRONG - will cause build errors -->
<code>@import "tailwindcss";</code>
<pre>npm install @tailwindcss/cli</pre>
<p>Use @Assets["file.css"] to reference assets</p>

<!-- CORRECT - escaped properly -->
<code>@@import "tailwindcss";</code>
<pre>npm install @@tailwindcss/cli</pre>
<p>Use @@Assets["file.css"] to reference assets</p>
```

**Common places to escape**:

- CSS imports: `@@import "tailwindcss";`
- npm packages: `@@tailwindcss/cli`, `@@types/node`
- Razor directives in examples: `@@page`, `@@inject`, `@@code`
- Asset references: `@@Assets["filename"]`

**Prevention**: Review all code examples and text for `@` symbols before building. Use Find to search for unescaped `@` characters.
